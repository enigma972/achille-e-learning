<?php

/* Configuration des parfeu */
//$app['security.firewalls'] = array(
//'secured' => array(
//'pattern' => '^/secured',
//'anonymous' => true
//'logout' => true,
//'form' => array(
//	'login_path' => '/login',
//	'check_path' => '/login_check'
//),
//'users' => array(
//user => array('ROLE_USER', 'userpass')
//)
//)
//);

/* Etablissement de la hierarchie de roles */
//$app['security.role_hierarchy'] = array(
//'ROLE_ADMIN' => array(
//'ROLE_USER'
//)
//);

/* Les règles d'accès aux ressources */
//$app['security.access_rules'] = array(
//array(
//'^/admin', 'ROLE_ADMIN'
//)
//);

/* Configuration des parfeu */
$app['security.firewalls'] = array(
    'dev' => array(
        'pattern' => '^/',
        'anonymous' => true,
        'logout' => true,
        'form' => array(
            'login_path' => '/login',
            'check_path' => '/login_check'
        ),
        'users' => function() use ($app) {
            return $app['orm.em']->getRepository('User\Entity\User');
        }
    )
);

/* Etablissement de la hierarchie de roles */
$app['security.role_hierarchy'] = array(
    'ROLE_ADMIN' => array(
        'ROLE_USER'
    )
);

/* Les règles d'accès aux ressources */
$app['security.access_rules'] = array(
    array(
        '^/admin', 'ROLE_ADMIN'
    )
);
